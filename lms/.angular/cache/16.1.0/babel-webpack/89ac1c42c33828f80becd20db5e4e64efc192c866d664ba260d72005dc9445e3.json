{"ast":null,"code":"import * as i0 from \"@angular/core\";\nexport class CartService {\n  constructor() {\n    this.cartItems = [];\n  }\n  addToCart(book) {\n    const cartItem = this.cartItems.find(item => item.id === book.id);\n    if (cartItem) {\n      cartItem.availability--;\n    } else {\n      const cartBook = {\n        ...book,\n        availability: book.availability - 1\n      };\n      this.cartItems.push(cartBook);\n    }\n  }\n  removeFromCart(book) {\n    const cartItem = this.cartItems.find(item => item.id === book.id);\n    if (cartItem) {\n      if (cartItem.availability < book.availability) {\n        cartItem.availability++;\n      }\n      if (cartItem.availability === book.availability) {\n        const index = this.cartItems.indexOf(cartItem);\n        if (index !== -1) {\n          this.cartItems.splice(index, 1);\n        }\n      }\n    }\n  }\n  getCartItems() {\n    return this.cartItems;\n  }\n  getQuantityInCart(book) {\n    const cartItem = this.cartItems.find(item => item.id === book.id);\n    return cartItem ? cartItem.quantity : 0;\n  }\n  checkout() {\n    // Perform the necessary actions for checking out the books, such as saving the order details or making API calls.\n    // You can clear the cart after successful checkout if needed.\n    this.cartItems = [];\n  }\n}\nCartService.ɵfac = function CartService_Factory(t) {\n  return new (t || CartService)();\n};\nCartService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: CartService,\n  factory: CartService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"names":["CartService","constructor","cartItems","addToCart","book","cartItem","find","item","id","availability","cartBook","push","removeFromCart","index","indexOf","splice","getCartItems","getQuantityInCart","quantity","checkout","factory","ɵfac","providedIn"],"sources":["C:\\Users\\Sree\\lib\\lms\\src\\app\\cart.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { Book1 } from './book.model';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CartService {\n  private cartItems: Book1[] = [];\n\n  addToCart(book: Book1) {\n    const cartItem = this.cartItems.find(item => item.id === book.id);\n    if (cartItem) {\n      cartItem.availability--;\n    } else {\n      const cartBook: Book1 = { ...book, availability: book.availability - 1 };\n      this.cartItems.push(cartBook);\n    }\n  }\n\n  removeFromCart(book: Book1) {\n    const cartItem = this.cartItems.find(item => item.id === book.id);\n    if (cartItem) {\n      if (cartItem.availability < book.availability) {\n        cartItem.availability++;\n      }\n      if (cartItem.availability === book.availability) {\n        const index = this.cartItems.indexOf(cartItem);\n        if (index !== -1) {\n          this.cartItems.splice(index, 1);\n        }\n      }\n    }\n  }\n\n  getCartItems() {\n    return this.cartItems;\n  }\n\n  getQuantityInCart(book: Book1): number {\n    const cartItem = this.cartItems.find(item => item.id === book.id);\n    return cartItem ? cartItem.quantity : 0;\n  }\n\n  checkout() {\n    // Perform the necessary actions for checking out the books, such as saving the order details or making API calls.\n    // You can clear the cart after successful checkout if needed.\n    this.cartItems = [];\n  }\n}\n"],"mappings":";AAMA,OAAM,MAAOA,WAAW;EAHxBC,YAAA;IAIU,KAAAC,SAAS,GAAY,EAAE;;EAE/BC,SAASA,CAACC,IAAW;IACnB,MAAMC,QAAQ,GAAG,IAAI,CAACH,SAAS,CAACI,IAAI,CAACC,IAAI,IAAIA,IAAI,CAACC,EAAE,KAAKJ,IAAI,CAACI,EAAE,CAAC;IACjE,IAAIH,QAAQ,EAAE;MACZA,QAAQ,CAACI,YAAY,EAAE;KACxB,MAAM;MACL,MAAMC,QAAQ,GAAU;QAAE,GAAGN,IAAI;QAAEK,YAAY,EAAEL,IAAI,CAACK,YAAY,GAAG;MAAC,CAAE;MACxE,IAAI,CAACP,SAAS,CAACS,IAAI,CAACD,QAAQ,CAAC;;EAEjC;EAEAE,cAAcA,CAACR,IAAW;IACxB,MAAMC,QAAQ,GAAG,IAAI,CAACH,SAAS,CAACI,IAAI,CAACC,IAAI,IAAIA,IAAI,CAACC,EAAE,KAAKJ,IAAI,CAACI,EAAE,CAAC;IACjE,IAAIH,QAAQ,EAAE;MACZ,IAAIA,QAAQ,CAACI,YAAY,GAAGL,IAAI,CAACK,YAAY,EAAE;QAC7CJ,QAAQ,CAACI,YAAY,EAAE;;MAEzB,IAAIJ,QAAQ,CAACI,YAAY,KAAKL,IAAI,CAACK,YAAY,EAAE;QAC/C,MAAMI,KAAK,GAAG,IAAI,CAACX,SAAS,CAACY,OAAO,CAACT,QAAQ,CAAC;QAC9C,IAAIQ,KAAK,KAAK,CAAC,CAAC,EAAE;UAChB,IAAI,CAACX,SAAS,CAACa,MAAM,CAACF,KAAK,EAAE,CAAC,CAAC;;;;EAIvC;EAEAG,YAAYA,CAAA;IACV,OAAO,IAAI,CAACd,SAAS;EACvB;EAEAe,iBAAiBA,CAACb,IAAW;IAC3B,MAAMC,QAAQ,GAAG,IAAI,CAACH,SAAS,CAACI,IAAI,CAACC,IAAI,IAAIA,IAAI,CAACC,EAAE,KAAKJ,IAAI,CAACI,EAAE,CAAC;IACjE,OAAOH,QAAQ,GAAGA,QAAQ,CAACa,QAAQ,GAAG,CAAC;EACzC;EAEAC,QAAQA,CAAA;IACN;IACA;IACA,IAAI,CAACjB,SAAS,GAAG,EAAE;EACrB;;AAzCWF,WAAW,C;mBAAXA,WAAW;AAAA;AAAXA,WAAW,C;SAAXA,WAAW;EAAAoB,OAAA,EAAXpB,WAAW,CAAAqB,IAAA;EAAAC,UAAA,EAFV;AAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}